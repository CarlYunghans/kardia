$Version=2$
initial_setup_site "widget/component-decl"
    {
    title = "Site Information";
    completed_sql = "SELECT is_completed=count(1) FROM OBJECT /apps/kardia/data/Site.struct where :site_name != 'SomeOrganization'";
    short_name="Site";
    sequence = 100;
    width=690;
    height=350;

    ItemChanged "widget/component-decl-event" { }

    site_osrc "widget/osrc"
	{
	sql = "Select * from OBJECT /apps/kardia/data/Site.struct";
	baseobject = "/apps/kardia/data/Site.struct";
        autoquery=onload;

        site_form "widget/form"
            {
	    objectsource=site_osrc;

	    pass_upwards_cn "widget/connector"
		{
		source=site_form;
		event=DataSaved;
		target=initial_setup_site;
		action=ItemChanged;
		}

            site_vbox1 "widget/vbox"
		{
                x=28; y=38; 
		width=690; height=runserver( 350 - 38 );
                spacing=8;
                cellsize=20;

		site_lbl "widget/label"
		    {
		    width=600;
		    height=40;
		    text="Please fill in the information pertaining to your organization.  To add your own logo, you will need to upload it into the centrallix directory system and change the field to point to where it is.";
		    }

		form_ctls "widget/component"
		    {
		    height=26;
		    path="/sys/cmp/form_controls.cmp";
		    object_name = "Site Information";
		    }


		//site_name = "SomeOrganization";
		//site_description = "Some Organization that is Testing Kardia";
		//site_logo = "/apps/kardia/images/artwork/Kardia2011b-horiz-37.png";
		//site_logo_width = 182;
		//site_logo_height = 37;
		//site_logo_background = white;
		//site_report_logo = "/apps/kardia/images/artwork/Kardia2011b-horiz-37.png";

                s_name "widget/component" { width=500; path="/sys/cmp/smart_field.cmp"; text="Site Name:"; field=site_name; ctl_type=editbox;  }
                s_desc "widget/component" { width=500; path="/sys/cmp/smart_field.cmp"; text="Description:"; field=site_description; ctl_type=editbox; }
                site_logo "widget/component" { width=500; path="/sys/cmp/smart_field.cmp"; text="Logo Location:"; field=site_logo; ctl_type=editbox; }
		}
	    }
	}
    }

